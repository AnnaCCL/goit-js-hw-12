{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '44067691-76497e8def9c6eb00e23cd4a0';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImg(searchQuery, page = 1, perPage = 15) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page: page,\n    per_page: perPage,\n  });\n  try {\n    const response = await axios.get(`${BASE_URL}?${params}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function renderCard(hits, gallery) {\n  clearGallery(gallery);\n  const markup = hits.map(hit => createGalleryCard(hit)).join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a');\n  }\n}\n\nfunction createGalleryCard({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n<a class=\"gallery-item\" href=\"${largeImageURL}\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    <div class=\"info\">\n    <p><span>Likes:</span> ${likes}</p>\n    <p><span>Views:</span> ${views}</p>\n    <p><span>Comments:</span> ${comments}</p>\n    <p><span>Downloads:</span> ${downloads}</p>\n    </div>\n</a>\n`;\n}\n\nexport function clearGallery(gallery) {\n  gallery.innerHTML = '';\n}\n\nexport function showErrorMessage(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n\nexport function showLoadingIndicator() {\n  const loader = document.createElement('div');\n  loader.className = 'loader';\n  document.body.appendChild(loader);\n}\n\nexport function hideLoadingIndicator() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    document.body.removeChild(loader);\n  }\n}\n","import { fetchImg } from './js/pixabay-api.js';\nimport {\n  renderCard,\n  showErrorMessage,\n  showLoadingIndicator,\n  hideLoadingIndicator,\n} from './js/render-functions.js';\n\nconst searchForm = document.querySelector('form');\nconst gallery = document.querySelector('.gallery');\n\nsearchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n  const searchQuery = form.elements.query.value.trim();\n\n  if (searchQuery === '') {\n    showErrorMessage('Please enter a search query.');\n    return;\n  }\n\n  showLoadingIndicator();\n  fetchImg(searchQuery)\n    .then(hits => {\n      hideLoadingIndicator();\n      if (hits.length === 0) {\n        showErrorMessage(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n      renderCard(hits, gallery);\n    })\n    .catch(error => {\n      hideLoadingIndicator();\n      console.log(error);\n      showErrorMessage('Failed to fetch images. Please try again later.');\n    });\n\n  form.reset();\n}\n"],"names":["API_KEY","BASE_URL","fetchImg","searchQuery","page","perPage","params","axios","error","lightbox","renderCard","hits","gallery","clearGallery","markup","hit","createGalleryCard","SimpleLightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showErrorMessage","message","iziToast","showLoadingIndicator","loader","hideLoadingIndicator","searchForm","onSearch","e","form"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAASC,EAAaC,EAAO,EAAGC,EAAU,GAAI,CAClE,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKN,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAUC,CACd,CAAG,EACD,GAAI,CAEF,OADiB,MAAME,EAAM,IAAI,GAAGN,CAAQ,IAAIK,CAAM,EAAE,GACxC,IACjB,OAAQE,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CChBA,IAAIC,EAEG,SAASC,EAAWC,EAAMC,EAAS,CACxCC,EAAaD,CAAO,EACpB,MAAME,EAASH,EAAK,IAAII,GAAOC,EAAkBD,CAAG,CAAC,EAAE,KAAK,EAAE,EAC9DH,EAAQ,mBAAmB,YAAaE,CAAM,EAC1CL,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIQ,EAAe,YAAY,CAE9C,CAEA,SAASD,EAAkB,CACzB,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,gCACuBL,CAAa;AAAA,gBAC7BD,CAAY,UAAUE,CAAI;AAAA;AAAA,6BAEbC,CAAK;AAAA,6BACLC,CAAK;AAAA,gCACFC,CAAQ;AAAA,iCACPC,CAAS;AAAA;AAAA;AAAA,CAI1C,CAEO,SAASX,EAAaD,EAAS,CACpCA,EAAQ,UAAY,EACtB,CAEO,SAASa,EAAiBC,EAAS,CACxCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CAEO,SAASE,GAAuB,CACrC,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAY,SACnB,SAAS,KAAK,YAAYA,CAAM,CAClC,CAEO,SAASC,GAAuB,CACrC,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACF,SAAS,KAAK,YAAYA,CAAM,CAEpC,CCtDA,MAAME,EAAa,SAAS,cAAc,MAAM,EAC1CnB,EAAU,SAAS,cAAc,UAAU,EAEjDmB,EAAW,iBAAiB,SAAUC,CAAQ,EAE9C,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,cACT9B,EAAc+B,EAAK,SAAS,MAAM,MAAM,OAE9C,GAAI/B,IAAgB,GAAI,CACtBsB,EAAiB,8BAA8B,EAC/C,MACD,CAEDG,IACA1B,EAASC,CAAW,EACjB,KAAKQ,GAAQ,CAEZ,GADAmB,IACInB,EAAK,SAAW,EAAG,CACrBc,EACE,0EACV,EACQ,MACD,CACDf,EAAWC,EAAMC,CAAO,CAC9B,CAAK,EACA,MAAMJ,GAAS,CACdsB,IACA,QAAQ,IAAItB,CAAK,EACjBiB,EAAiB,iDAAiD,CACxE,CAAK,EAEHS,EAAK,MAAK,CACZ"}